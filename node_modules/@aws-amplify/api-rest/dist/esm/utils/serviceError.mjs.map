{"version":3,"file":"serviceError.mjs","sources":["../../../src/utils/serviceError.ts"],"sourcesContent":["import { parseJsonError, } from '@aws-amplify/core/internals/aws-client-utils';\nimport { RestApiError } from '../errors';\n/**\n * Internal-only method to create a new RestApiError from a service error.\n *\n * @internal\n */\nexport const buildRestApiServiceError = (error) => {\n    const restApiError = new RestApiError({\n        name: error?.name,\n        message: error.message,\n        underlyingError: error,\n    });\n    return restApiError;\n};\nexport const parseRestApiServiceError = async (response) => {\n    const parsedError = await parseJsonError(response);\n    if (!parsedError) {\n        // Response is not an error.\n        return;\n    }\n    return Object.assign(buildRestApiServiceError(parsedError), {\n        $metadata: parsedError.$metadata,\n    });\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACY,MAAC,wBAAwB,GAAG,CAAC,KAAK,KAAK;AACnD,IAAI,MAAM,YAAY,GAAG,IAAI,YAAY,CAAC;AAC1C,QAAQ,IAAI,EAAE,KAAK,EAAE,IAAI;AACzB,QAAQ,OAAO,EAAE,KAAK,CAAC,OAAO;AAC9B,QAAQ,eAAe,EAAE,KAAK;AAC9B,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,YAAY,CAAC;AACxB,EAAE;AACU,MAAC,wBAAwB,GAAG,OAAO,QAAQ,KAAK;AAC5D,IAAI,MAAM,WAAW,GAAG,MAAM,cAAc,CAAC,QAAQ,CAAC,CAAC;AACvD,IAAI,IAAI,CAAC,WAAW,EAAE;AACtB;AACA,QAAQ,OAAO;AACf,KAAK;AACL,IAAI,OAAO,MAAM,CAAC,MAAM,CAAC,wBAAwB,CAAC,WAAW,CAAC,EAAE;AAChE,QAAQ,SAAS,EAAE,WAAW,CAAC,SAAS;AACxC,KAAK,CAAC,CAAC;AACP;;;;"}